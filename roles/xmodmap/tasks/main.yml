---
- block:
    - apt:
        name:
          - xbindkeys
          - xdotool
          - xcape
          - wmctrl
        state: present
        update_cache: yes
  become: yes
  become_user: root

- name: copy xmodmap file to ~/.Xmodmap
  copy:
    src: "{{ role_path }}/files/xmodmap"
    dest: ~/.Xmodmap

- name: copy xbindkeysrc file to ~/.xbindkeysrc
  copy:
    src: "{{ role_path }}/files/xbindkeysrc"
    dest: ~/.xbindkeysrc

- name: enable caps with xcape as single key and for combination
  lineinfile:
    path: ~/.zshrc
    line: "xcape -e 'Mode_switch=Escape'"